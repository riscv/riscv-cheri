<<<

[#GCMODE,reftext="{GCMODE}"]
==== {GCMODE}

Synopsis::
{GCMODE_DESC}

Mnemonic::
`{gcmode_lc} rd, {creg_pref}s1`

Encoding::
include::wavedrom/gcmode.adoc[]

Description::
Decode the CHERI execution mode from the capability in `{creg_pref}s1` and write the
result to `rd`.
+
Set `rd` to 0 if `{creg_pref}s1` does not grant <<x_perm>>
+
Set `rd` to 0 if any <<section_cap_integrity,integrity>> checks failed.
+
Otherwise set `rd` according to `{creg_pref}s1` 's CHERI execution mode (<<m_bit>>):
+
1. Set `rd` to {CAP_MODE_VALUE} for {cheri_cap_mode_name}, or,
+
2. Set `rd` to {INT_MODE_VALUE} for {cheri_int_mode_name}.
+
include::no_tag_affect.adoc[]

Operation::
+
sail::execute[clause="GCMODE(_, _)",part=body,unindent]
