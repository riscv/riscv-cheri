[#section_pointer_masking_integration]
== Integrating {cheri_base_ext_name} and {cheri_default_ext_name} with Pointer Masking

The pointer masking extensions Smmpm, Smnpm, SSnpm, Sspm and Supm are compatible with {cheri_default_ext_name}.

In {cheri_int_mode_name} all data addresses are integer pointers, which
are interpreted as being XLEN-wide, and may be subject to pointer masking.
All data accesses are checked against <<ddc>> which is unaffected by
pointer masking. Therefore no capability bounds encoding is affected.

In {cheri_cap_mode_name} all pointers are capabilities. If pointer masking is enabled
then the masked bits are replaced with sign extension of the highest unmasked bit
before the bounds calculation.
Therefore the bounds calculation is always performed using the address field of the
capability only. The masked bits are never used by the calculation, and so are not
considered part of the capability.
